{% extends "base.html" %}

{% block app_content %}
<div class="col-xs-12">
    <div class="col-xs-3">
        <div class="col-xs-12">
            <h1>{{ artist.name }}</h1>
            {% if current_user.is_authenticated and current_user in artist.members %}
            <button class="btn btn-warning" onclick="location.href='{{ url_for("main.edit_artist", artist_name=artist.name) }}'">Edit Profile</button>
            {% if artist.tracks|length <= 3 %}
            <button class="btn btn-warning" onclick="location.href='{{ url_for("main.upload_track", artist_name=artist.name) }}'">Upload Tracks</button>
            {% endif %}
            {% endif %}
            <br>
            <label for="members_list">Members:</label>
            <ul id="members_list">
                {% if artist.members|length == 0 %}
                <li>There are currently no members in {{ artist.name }}</li>
                {% else %}
                {% for member in artist.members %}
                    <li>{{ member.name }}</li>
                {% endfor %}
                {% endif %}
            </ul>
        </div>
    </div>
    <div class="col-xs-9">
        <div class="col-xs-12">
            <b>Description : {{ artist.description }}</b><br>
            <b>From {{ artist.location.city }}, {{ artist.location.state }}</b><br>
            <b>Followers: {{ artist.followers|length }}</b><br>
            <label for="genre_list">Genres:</label>
            <ul id="genre_list">
                {% if artist.genre|length == 0 %}
                <li>{{ artist.name }} has no genres at this point in time</li>
                {% else %}
                {% for genre in artist.genre %}
                <li>{{ genre.name }}</li>
                {% endfor %}
                {% endif %}
            </ul>
        </div>
    </div>
</div>
<hr>
<div id="shows_for_artist" class="col-xs-12">
     <div class="col-xs-6 text-center">
         <b><label for="shows_table">Shows for {{ artist.name }}</label></b><br>
         {% if shows|length == 0 %}
         <b>{{ artist.name }} is not currently signed up to play any shows! Check back soon! :)</b>
         {% else %}
         <table class="table table-bordered bg-light table-hover">
            {% for show in shows %}
            <tr>
                <td>
                    <b>{{ show.artist.name }} is playing at {{ show.porch.address }} {{ show.porch.location.city }}, {{ show.porch.location.state }} {{ show.start_time }}</b>
                </td>
            </tr>
            {% endfor %}
         </table>
         {% endif %}
     </div>
     <div class="col-xs-6 text-center">
         <b><label for="tracks_table">Tracks for {{ artist.name }}</label></b><br>
         {% if artist.tracks|length == 0 %}
         <b>{{ artist.name }} does not have any tracks at this time! Check back soon! :)</b>
         {% else %}
         <table id="tracks_table" class="table table-bordered bg-light table-hover">
            {% for track in artist.tracks %}
            <tr>
                <td>
                    <a href="{{ url_for("main.get_track", track_name=track.track_name) }}">{{ track.track_name }}</a>
                </td>
            </tr>
            {% endfor %}
         </table>
         {% endif %}
     </div>
</div>

{% endblock %}